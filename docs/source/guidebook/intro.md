# Введение

## Для кого руководство?

Руководство организовано так, чтобы помочь пользователям с разным уровнем подготовки:

* Ознакомительный уровень — что такое SAMPO, чем он поможет и как быстро начать работу.
* Продвинутый уровень — как настраивать SAMPO под свои задачи.

## Что такое SAMPO?

**SAMPO** (Scheduler for Adaptive Manufacturing Processes Optimization) — это открытый **фреймворк адаптивного
календарного планирования**.

> Адаптивное календарное планирование — построение расписания с учётом технологических, ресурсных и логистических
> ограничений и его целевая переоптимизация при изменениях входных данных или целей (например, дедлайнов).
> Переоптимизация выполняется по событию/запуску алгоритмов за счёт тёплого старта (кеширования),
> частичной фиксации уже принятых решений и специализированных процедур (например, бинпоиск ресурсоёмкости под дедлайн).

Цель — построение расписания, наилучшего по выбранной **метрике оптимизации** (например, минимизация длительности или
стоимости).

В SAMPO реализованы **эвристики** и **генетические алгоритмы**, а также предусмотрен модуль **многоагентного
моделирования** для комбинирования стратегий — это помогает решать сложные сценарии, где статические или чисто жадные
подходы недостаточны.

## Для кого SAMPO?

Если у вас проект с множеством зависимостей и ограничений по ресурсам, и вы хотите автоматизировать поиск хорошего плана
исполнения — SAMPO для вас.

## Ключевые возможности и преимущества

- Упорядочивает задачи и назначает ресурсы с учетом ограничений

  > Под «ограничениями» понимаются: предшествования задач, минимальные/максимальные потребности по видам ресурсов...
  Порядок работ задаётся эвристиками (например, Topological, HEFT), а состав бригад подбирается
  оптимизаторами ресурсов с учётом доступности.

- Оптимизирует по выбранной метрике (время, ресурсы, стоимость, мультикритерий)

- Адаптивно перепланирует под дедлайн

  > При заданном сроке выполняется целевая переоптимизация: «обёртка» с двоичным поиском подбирает уровень
  ресурсообеспечения (параметр k), многократно вызывая базовый планировщик, чтобы уложиться в дедлайн; в генетическом
  режиме используется двухфазная схема — сначала добиваются соблюдения времени, затем оптимизируют ресурсы/стоимость
  среди планов, укладывающихся в срок.

- Ускорение перепланирования

  > Чтобы не начинать «с нуля», используется тёплый старт (кеширование и повторное использование подготовленных
  структур), мультипроцессная оценка популяции в генетике и частичная фиксация уже принятых назначений (
  переоптимизируются только свободные степени свободы). Это ускоряет реакцию на изменения и уменьшает нежелательные
  перестановки в расписании.

- **Открытость и документация**  
  — лицензия **BSD 3-Clause**, подробная документация, примеры в **Jupyter Notebook**.

  > BSD 3-Clause — свободная лицензия, разрешающая использовать, изменять и распространять код (в том числе в
  коммерческих проектах) при сохранении уведомления об авторских правах и отказа от ответственности.

---

## Публичное API

- `sampo.generator` — генераторы синтетических графов, окружения и вспомогательные функции (включая
  `SimpleSynthetic` и `get_contractor_by_wg`).
- `sampo.schemas` — базовые структуры данных: графы работ, контракты, ресурсы, расписания, спецификации.
- `sampo.scheduler` — планировщики и связанные компоненты (эвристические, генетические, мультиагентные и т.д.).
- `sampo.pipeline` — декларативный `SchedulingPipeline` для запуска всех шагов планирования.
- `sampo.utilities.visualization` — утилиты визуализации (графики Ганта, диаграммы загрузки ресурсов и т.д.).

## Реализованные алгоритмы и подходы

* **Эвристики**

  > Эвристики — упрощённые правила «разумного выбора», дающие быстрое приближённое решение.

    - *Topological* — алгоритм, который строит порядок выполнения задач на основе их зависимостей. Использует
      топологическую сортировку графа работ (DAG), то есть размещает каждую задачу только после всех её
      предшественников.

    - *HEFT/HEFTBetween* — жадные эвристики *Heterogeneous Earliest Finish Time*, стремящиеся минимизировать время
      завершения с учётом разнородных ресурсов.

  > HEFT/HEFTBetween — метод планирования, который идёт по задачам и назначает каждую туда, где она закончится быстрее
  всего, учитывая зависимости и производительность ресурсов.

* **Генетические алгоритмы**

  > Генетические алгоритмы — оптимизация по принципам эволюции: популяция решений подвергается «скрещиванию» и
  «мутациям» для улучшения качества.

    - *Genetic* — алгоритм с эвристической инициализацией, кроссовером и мутациями; поддерживает разные функции
      пригодности (время, ресурсы, стоимость), мультикритерий и режим «с дедлайном».

  > Позволяет находить более качественные планы, чем простые жадные методы, так как исследует разные комбинации решений
  и отбирает лучшие.

* **Многоагентные методы**

  > Подходы, в которых разные «агенты»-планировщики решают подзадачи и координируются между собой — для комбинирования
  сильных сторон алгоритмов в больших проектах (модуль предусмотрен для интеграции).
